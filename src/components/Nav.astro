---
import Container from "./crafted-astro/container/Container.astro"
import Navbar from "./crafted-astro/navbar/Navbar.astro"
import NavbarToggle from "./crafted-astro/navbar/NavbarToggle.astro"
import Tablist from "./crafted-astro/tablist/Tablist.astro"
import TablistItem from "./crafted-astro/tablist/TablistItem.astro"
import DarkToggle from "@/components/DarkToggle.astro"

const links = [
    { href: '/', title: 'Home' },
    { href: '/articles', title: 'Articles' },
    { href: '/projects', title: 'Projects' },
    { href: '/about', title: 'About' },
    { href: '/contact', title: 'Contact' },
]
---
<Navbar>
  <div class="relative flex h-14 items-center justify-between">
    <div class="flex space-x-4">
      <NavbarToggle />

      <div class="flex flex-shrink-0 items-center">
        <a href="/" class="flex items-center text-green-800">
            <svg    fill="currentColor" id="clover-logo" data-name="Forty4 Clover Leaf Logo" 
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 572 141.1"
                    class="h-10 w-auto">
                <g>
                    <path class="st0" d="M5.3,47.7c6.5-8.3,16.3-7.6,24.7-3,7.2,4,13,10.1,19.3,15.3,9.1,7.5,8.8,6.7,1.7-2-6.9-8.3-17.2-17.2-18.5-28.5-1.8-14.9,15.9-25,25.2-11.8,10.1-12.9,27.4-2.8,25.2,12.3-1.9,12.8-17.2,25.7-24.3,36.1.3-14.2,0-28.3-.9-42.5,0,14.1-1.9,28.4-.3,42.5-14.1-1-28.3,0-42.5.8,14.1.1,28.3,1.7,42.5.3-1.5,14.1.1,28.3.3,42.5.7-14.2,1.5-28.4.8-42.6,6.7,11.8,25.5,25.9,24.7,40-.8,13.6-17.3,20.5-25.3,8.5-9.7,12.8-26.8,3.4-25.2-11.7,1.3-12.6,16.9-26.4,24.4-36.4-10.9,6.9-22.9,22.4-35.9,24.3-15.1,2.2-25.2-15.2-12.3-25-6.5-3.7-8-13.1-3.5-19h0Z"/>
                    <path class="st0" d="M59,65.6c8.3-6.7,20.2-18.6,29.7-22.4,18.7-7.6,32.2,12.5,17.9,23.5,13.9,9.8,2.2,29.2-14.4,24.7-9.4-2.5-16.3-10.6-23.5-16.5-1.2-1-9.9-6.9-9.9-7.6,13.6,1.2,27.2-.4,40.8-.5l.3-.5c-13.7.2-27.3-1.5-41-.3v-.5h0Z"/>
                </g>
                <g>
                    <path class="st0" d="M171.4,62.4v26.2c.3,6.4.8,9.9,1.5,10.7.7.8,3.7,1.4,9.2,1.8h1.2v6h-42v-6h1.2c4.3-.4,6.9-1.1,7.8-2.3.9-1.2,1.3-4.6,1.3-10.3V30.6c0-5.7-.4-9.1-1.3-10.3-.8-1.2-3.4-1.9-7.8-2.2h-1.2v-6h69.7v17.8h-9.5v-1.2c-.2-2-.3-3.4-.3-4.2,0-2.6-.6-4.3-1.7-5-1.1-.7-3.7-1.1-7.7-1.1h-20.4v38.5h13.6c5.1,0,8-.1,8.8-.4.7-.3,1.1-1.2,1.1-2.9s0-1.3.1-3v-1.2h6.9v20.6h-6.7v-1.2c-.2-1.3-.3-2.2-.3-2.6,0-1.7-.6-2.7-1.7-3.1-1.1-.4-3.9-.6-8.2-.6h-13.6Z"/>
                    <path class="st0" d="M256.1,108.7c-11.4,0-20.4-3.3-26.9-9.9-6.5-6.6-9.8-15.6-9.8-27s3.3-20.4,9.8-27c6.5-6.6,15.5-9.9,26.9-9.9s20.3,3.3,26.8,9.9c6.5,6.6,9.8,15.6,9.8,27s-3.3,20.4-9.8,27c-6.5,6.6-15.5,9.9-26.8,9.9ZM256.1,102c5.2,0,9.1-2.5,11.7-7.5,2.6-5,3.9-12.6,3.9-22.6s-1.3-17.6-3.9-22.6c-2.6-5-6.5-7.5-11.7-7.5s-9.1,2.5-11.8,7.5c-2.6,5-3.9,12.5-3.9,22.6s1.3,17.5,3.9,22.6c2.6,5,6.5,7.5,11.8,7.5Z"/>
                    <path class="st0" d="M327.9,56.8v31.7c0,5.8.5,9.3,1.4,10.4.9,1.1,4,1.8,9.3,2.2h1.2v6h-41.2v-6h1.2c4.3-.4,6.9-1.1,7.8-2.3.9-1.2,1.3-4.6,1.3-10.4v-33.3c0-5.7-.4-9.2-1.3-10.4-.9-1.2-3.4-1.9-7.8-2.2h-1.2v-6h29.3v13.3c5.8-9.9,13.3-14.9,22.5-14.9s2.2.2,3.7.5v22.5h-8.7v-1.2c-.4-4.8-.7-7.4-1-8.1-.3-.6-1.3-.9-3.2-.9-5.5,0-9.9,3-13.3,8.9Z"/>
                    <path class="st0" d="M405.3,106.6c-4,1.5-7.9,2.2-11.7,2.2-7.9,0-13.9-2-17.8-5.9-4-3.9-5.9-9.8-5.9-17.6v-42.3h-8.7v-6.4h8.7v-11.9l19-3.3v15.2h15.6v6.4h-15.6v42.7c0,6.3.6,10.5,1.9,12.5,1.2,2,3.8,3,7.7,3s4.4-.5,6.9-1.5v6.9Z"/>
                    <path class="st0" d="M421.9,132.5l24.1-26.1-23.7-51.3c-3-6-4.9-9.6-6-10.6-1-1-3.2-1.6-6.5-1.8h-1.2v-6h40v6h-1.2c-5.2,0-7.8.8-7.8,2.3s1.3,4.3,4,10.3l13.2,29.2,15.4-29.2c3.1-5.8,4.6-9.3,4.6-10.6s-2.2-1.9-6.6-1.9h-1.2v-6h25.4v6h-1.2c-3.7.3-6,.9-7,1.8s-3.1,4.5-6.5,10.8l-41.2,77.4h-16.9Z"/>
                    <path class="st0" d="M543.1,81.4h-45.2v-10.7l47-59.8h14v57h11.1v13.5h-11.1v7.1c0,5.7.4,9.2,1.3,10.4s3.5,1.9,7.8,2.2h1.2v6h-36.4v-6h1.2c4.4-.4,7-1.1,7.8-2.3.9-1.2,1.3-4.6,1.3-10.4v-7.1ZM507.6,67.9h35.5V23.1l-35.5,44.8Z"/>
                </g>
                    <polyline class="st0" points="79.8 87.7 103.7 132.5 120.5 132.5 79.8 87.7"/>
            </svg>
        </a>
      </div>
    </div>
    <div class="grow">
      <div class="hidden sm:ml-8 sm:block">
        <Tablist>
          { links.map((link) => (
            <TablistItem>
              <a  href={link.href}>
                      { link.title }
              </a>  
            </TablistItem>
          ))}            
        </Tablist>
      </div>
    </div>
    <div class="flex space-x-4 items-center">
      <DarkToggle />
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="hidden sm:hidden" id="mobile-menu">
    <div class="space-y-1 px-2 pb-3 pt-2">
        { links.map((link) => (
            <a  href={link.href} 
                class="block rounded-md px-3 py-2 text-base font-medium text-green-900 hover:bg-green-600 hover:text-white">
                    { link.title }
            </a>  
            )
        )}
    </div>
</Navbar>

<script is:inline>
    const mobileButton = document.getElementById('mobile-menu-button');
    mobileButton?.addEventListener("click", () => {

        const menuContainer = document.getElementById('mobile-menu');
        menuContainer.classList.toggle("hidden")
        
        const mobileMenuOpen = document.getElementById('mobile-menu-open');
        mobileMenuOpen.classList.toggle("hidden")

        const mobileMenuClosed = document.getElementById('mobile-menu-closed');
        mobileMenuClosed.classList.toggle("hidden")
    })
</script>
